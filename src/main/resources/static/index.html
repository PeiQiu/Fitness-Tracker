<!DOCTYPE html>
<html ng-app="FitnessTracker.App">
<head>
    <title>FitnessTracker</title>
    <link rel="stylesheet" href="/resources/css/style.css">
    <link rel="stylesheet" href="/resources/css/timeline.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="/resources/css/animate.css" type="text/css" />
    <link rel="stylesheet" href="/resources/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="/resources/css/simple-line-icons.css" type="text/css" />
    <link rel="stylesheet" type="text/css" media="screen" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/css/font.css" type="text/css" />
    <link rel="stylesheet" href="/resources/css/app.css" type="text/css" />
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
    <script src="https://code.jquery.com/jquery-2.2.0.js"></script>
    <!--<script src="http://code.jquery.com/jquery-1.9.0.js"></script>-->

    <script src="http://code.jquery.com/jquery-migrate-1.2.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular-route.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular-resource.js"></script>
    <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.js"></script>-->
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/jquery-ui.min.js"></script>
    <script src="http://momentjs.com/downloads/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-moment/0.9.0/angular-moment.min.js"></script>
    <script src="https://rawgit.com/angular-ui/ui-calendar/master/src/calendar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.2.6/fullcalendar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/locale/bootstrap-table-zh-CN.min.js"></script>

    <script src="/resources/js/ui-bootstrap-tpls-1.3.3.min.js"></script>
    <script src="/resources/js/spring-security-csrf-token-interceptor.js"></script>
    <script src="/resources/js/session.js"></script>
    <script src="/resources/js/friend.js"></script>
    <script src="/resources/js/services.js"></script>
    <!--<script src="/resources/js/spring-security-csrf-token-interceptor.js"></script>-->
    <script src="/resources/views/shared/login/login.js"></script>
    <script src="/resources/views/shared/register/register.js"></script>
    <script src="https://www.gstatic.com/charts/loader.js"></script>

    <script src="/resources/views/applications/contact/contact.js"></script>
    <script src="/resources/views/applications/sharings/createSharings.js"></script>
    <script src="/resources/views/applications/sharings/sharings.js"></script>
    <script src="/resources/views/applications/comments/comments.js"></script>
    <script src="/resources/views/users/summary/summary.js"></script>
    <script src="/resources/views/users/active/active.js"></script>
    <script src="/resources/views/users/userbody/userbody.js"></script>
    <script src="/resources/views/users/goals/goals.js"></script>
    <script src="/resources/views/shared/profile/profile.js"></script>
    <script src="/resources/views/shared/selectdevice/selectdevice.js"></script>
    <script src="/resources/views/applications/myposts.js"></script>
    <script src="/resources/js/app.js"></script>
    <script src ="/resources/js/ng-infinite-scroll.min.js"></script>
    <script src="/resources/js/timeline.js"></script>
    <script src="/resources/js/stomp.min.js"></script>
    <script src="/resources/js/sockjs.min.js"></script>
    <script src="/resources/js/chatApp.js"></script>
    <script src="/resources/js/image.js"></script>
    <style type="text/css">
        div.timeline-event {
            border: none;
            background: none;
            border-radius: 0;
        }
        div.timeline-event-selected {
            border: none;
            background: none;
        }
        div.timeline-event-content {
            margin: 0;
        }
        div.timeline-event-range {
            border: none;
            border-radius: 0;
            width: 100%;
            position: relative;
            overflow: visible;
            background-color: white;
        }
        div.bar {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            text-align: center;
            color: white;
            /* height and color is set for each individual bar */
        }
    </style>
</head>

<body>
<div class="app app-header-fixed" id="app" ng-controller="FitnessTracker.Navigation.Controller">
    <!-- navbar -->
    <div class="app-header navbar">
        <!-- navbar header -->
        <div class="navbar-header bg-dark">
            <button class="pull-right visible-xs dk" data-toggle="class:show" data-target=".navbar-collapse">
                <i class="glyphicon glyphicon-cog"></i>
            </button>
            <button class="pull-right visible-xs" data-toggle="class:off-screen" data-target=".app-aside" ui-scroll="app">
                <i class="glyphicon glyphicon-align-justify"></i>
            </button>
            <!-- brand -->
            <a href="" class="navbar-brand text-lt">
                <i class="fa fa-btc"></i>
                <img src="https://i.pinimg.com/736x/4c/a5/ff/4ca5ff157b88a90e2c1253d123f0f841--logodesign-geometric-designs.jpg" alt="." class="hide">
                <span class="hidden-folded m-l-xs">FitnessTracker</span>
            </a>
            <!-- / brand -->
        </div>
        <!-- / navbar header -->


        <!-- navbar collapse -->
        <div class="collapse pos-rlt navbar-collapse box-shadow bg-white-only">
            <!-- buttons -->
            <div ng-if="hasRole('ROLE_USER')" class="nav navbar-nav hidden-xs">
                <a class="btn no-shadow navbar-btn" data-toggle="class:app-aside-folded" data-target=".app">
                    <i class="fa fa-dedent fa-fw text"></i>
                    <i class="fa fa-indent fa-fw text-active"></i>
                </a>
            </div>
            <!-- / buttons -->

            <!--<ul ng-if="hasRole('ROLE_USER')" class="nav navbar-nav hidden-sm">-->
                <!--<li class="dropdown">-->
                    <!--<a data-toggle="dropdown" class="dropdown-toggle">-->
                        <!--<i class="fa fa-fw fa-plus visible-xs-inline-block"></i>-->
                        <!--<span translate="header.navbar.new.NEWS">News</span> <span class="caret"></span>-->
                    <!--</a>-->
                    <!--<ul class="dropdown-menu" role="menu">-->
                        <!--<li><a href="#/goals" translate="header.navbar.new.PLAN">Plan</a></li>-->
                        <!--<li>-->
                            <!--<a href="#/eventCalendar">-->
                                <!--<span class="badge bg-info pull-right">5</span>-->
                                <!--<span translate="header.navbar.new.TARGET">comments</span>-->
                            <!--</a>-->
                        <!--</li>-->
                        <!--<li class="divider"></li>-->
                        <!--<li>-->
                            <!--<a href = "#/comments">-->
                                <!--<span class="badge bg-danger pull-right">4</span>-->
                                <!--<span translate="header.navbar.new.RECORD">Records</span>-->
                            <!--</a>-->
                        <!--</li>-->
                    <!--</ul>-->
                <!--</li>-->
            <!--</ul>-->


            <!-- search form -->
            <!--<form ng-if="hasRole('ROLE_USER')" class="navbar-form navbar-form-sm navbar-left shift" ui-shift="prependTo" data-target=".navbar-collapse" role="search">-->
                <!--<div class="form-group">-->
                    <!--<div class="input-group">-->
                        <!--<md-datepicker ng-model="myDate" md-placeholder="Enter date"></md-datepicker>-->
                    <!--</div>-->

                    <!--<div class="input-group">-->
                        <!--<input type="text" ng-model="selected" typeahead="state for state in states | filter:$viewValue | limitTo:8" class="form-control input-sm bg-light no-border rounded padder" placeholder="Search key words...">-->
                        <!--<span class="input-group-btn">-->
                            <!--<button type="submit" class="btn btn-sm bg-light rounded"><i class="fa fa-search"></i></button>-->
                        <!--</span>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</form>-->
            <!-- / search form -->

            <!-- nabar right -->
            <ul ng-if="hasRole('ROLE_USER')" class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a data-toggle="dropdown" class="dropdown-toggle">
                        <i class="icon-bell fa-fw"></i>
                        <span class="visible-xs-inline">Notifications</span>
                        <!--ng-show = "typeOfReminder.num > 0  {{typeOfReminder.length}}  -->
                        <span ng-show = "showAllNotification && (friendReminders.length > 0 || friendNewGroupReminder.num > 0 || friendNewMessageReminder.num > 0)" class="badge badge-sm up bg-danger pull-right-xs">{{(friendReminders.length > 0) + (friendNewGroupReminder.num > 0) + (friendNewMessageReminder.num > 0)}}</span>
                    </a>
                    <!-- dropdown -->
                    <div class="dropdown-menu w-xl animated fadeInUp">
                        <div class="panel bg-white">
                            <div ng-show = "showAllNotification && friendReminders.length > 0 && !isView" class="panel-heading b-light bg-light"  ng-click="showPart('requestPart')" data-toggle="modal" data-target="#myFriendModal" style="background-color: whitesmoke">
                                <strong>You have <span> {{friendReminders.length}} </span> new friend requests</strong>
                            </div>
                            <div ng-show = "showAllNotification && friendNewGroupReminder.num > 0" class="panel-heading b-light bg-light" ng-click = "showGroupsView()" style="background-color: ghostwhite">
                                <strong>You have <span> {{friendNewGroupReminder.num}} </span> new group</strong>
                            </div>
                            <div ng-show = "showAllNotification && friendNewMessageReminder.num > 0" class="panel-heading b-light bg-light"  ng-click = "showMessageView()" style="background-color: white">
                                <strong>You have <span>{{friendNewMessageReminder.num}}</span> new messages </strong>
                            </div>
                            <div class="panel-footer text-sm">
                                <a href class="pull-right"><i class="fa fa-cog"></i></a>
                                <a ng-click="showAllNotification = !showAllNotification" data-toggle="class:show animated fadeInRight"><span ng-show="showAllNotification">show</span><span ng-show="!showAllNotification">hide</span> all the notifications</a>
                            </div>
                        </div>
                    </div>
                </li>

                <li class="dropdown">
                    <a data-toggle="dropdown" class="dropdown-toggle clear">
							<span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm">
                                <img ng-src="{{ user.id | imageUrl }}" onerror="this.src = 'resources/img/ic_default.png'" alt="..." style="max-height: 40px">
                                <i class="on md b-white bottom"></i>
							</span>
                        <span class="hidden-sm hidden-md">{{ username() }}</span> <b class="caret"></b>
                    </a>
                    <!-- dropdown -->
                    <ul class="dropdown-menu animated fadeInRight w">
                        <li>
                            <a href>
                                <span class="badge bg-danger pull-right">30%</span>
                                <span>Settings</span>
                            </a>
                        </li>
                        <li>
                            <a href="#/profile">Profile</a>
                        </li>
                        <li>
                            <a href="#/selectdevice">Device</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#/" ng-click="logout()">Logout</a>
                        </li>
                    </ul>
                    <!-- / dropdown -->
                </li>
            </ul>
            <!-- / navbar right -->
            <!--<ul class="nav navbar-nav navbar-right">-->
            <!--<li class="dropdown" ng-if="isAuthenticated()">-->
            <!--<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expand="false">Welcome {{username()}}-->
            <!--<span class="caret"></span>-->
            <!--</a>-->
            <!--<ul class="dropdown-menu" role="menu">-->
            <!--<li role="presentation">-->
            <!--<a role="menuitem" href="#/profile">Profile</a></li>-->
            <!--<li role="presentation" class="divider">-->
            <!--</li>-->
            <!--<li role="presentation">-->
            <!--<a role="menuitem" href="#/" ng-click="logout()">Logout</a>-->
            <!--</li>-->
            <!--</ul>-->
            <!--</li>-->
            <!--</ul>-->
        </div>
    </div>
    <!-- navbar -->
    <!--************************************************************-->
    <!--------menu--------->
    <div ng-if="hasRole('ROLE_USER')" class="app-aside hidden-xs bg-dark">
        <div class="aside-wrap">
            <div class="navi-wrap">
                <nav ui-nav class="navi">
                    <ul class="nav">
                        <li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                            <span translate="aside.nav.HEADER">Navigation</span>
                        </li>
                        <li class="dropdown">
                            <a href class="auto">
                                    <span class="pull-right text-muted">
                                        <i class="fa fa-fw fa-angle-right text"></i>
                                        <i class="fa fa-fw fa-angle-down text-active"></i>
                                    </span>
                                <i class="glyphicon glyphicon-stats icon text-primary-dker"></i>
                                <span class="font-bold" translate="aside.nav.DASHBOARD">Dashboard</span>
                            </a>
                            <ul class="nav nav-sub dk">
                                <li ui-sref-active="active">
                                    <a href="#/summary">
                                        <span>Trends</span>
                                    </a>
                                </li>
                            </ul>

                        </li>


                        <li ui-sref-active="active">
                            <a href="#/mysharing">
                                <i class="glyphicon glyphicon-calendar icon text-info-dker"></i>
                                <span class="font-bold" translate="aside.nav.CALENDAR">My Sharing</span>
                            </a>
                        </li>

                        <li ui-sref-active="active">
                            <a href="#/sharings">
                                <!--<b class="badge bg-info pull-right">9</b>-->
                                <i class="glyphicon glyphicon-pencil icon text-info-lter"></i>
                                <span class="font-bold" href="">Sharing</span>
                            </a>
                        </li>

                        <!--<li >-->
                            <!--<a href class="auto">-->
                                  <!--<span class="pull-right text-muted">-->
                                    <!--<i class="fa fa-fw fa-angle-right text"></i>-->
                                    <!--<i class="fa fa-fw fa-angle-down text-active"></i>-->
                                  <!--</span>-->
                                <!--<i class="glyphicon glyphicon-th-large icon text-success"></i>-->
                                <!--<span class="font-bold">Apps</span>-->
                            <!--</a>-->
                            <!--<ul class="nav nav-sub dk">-->
                                <!--&lt;!&ndash;<li class="nav-sub-header">&ndash;&gt;-->
                                    <!--&lt;!&ndash;<a href>&ndash;&gt;-->
                                        <!--&lt;!&ndash;<span>Apps</span>&ndash;&gt;-->
                                    <!--&lt;!&ndash;</a>&ndash;&gt;-->
                                <!--&lt;!&ndash;</li>&ndash;&gt;-->
                                <!--<li ui-sref-active="active">-->
                                    <!--<a href="#/comments">-->
                                        <!--<span>Comments</span>-->
                                    <!--</a>-->
                                <!--</li>-->
                                <!--&lt;!&ndash;<li ui-sref-active="active">&ndash;&gt;-->
                                    <!--&lt;!&ndash;<a ui-sref="apps.contact">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<span>Contacts</span>&ndash;&gt;-->
                                    <!--&lt;!&ndash;</a>&ndash;&gt;-->
                                <!--&lt;!&ndash;</li>&ndash;&gt;-->
                                <!--&lt;!&ndash;<li ui-sref-active="active">&ndash;&gt;-->
                                    <!--&lt;!&ndash;<a ui-sref="app.weather">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<span>Weather</span>&ndash;&gt;-->
                                    <!--&lt;!&ndash;</a>&ndash;&gt;-->
                                <!--&lt;!&ndash;</li>&ndash;&gt;-->
                            <!--</ul>-->
                        <!--</li>-->

                        <li class="line dk"></li>

                        <li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                            <span translate="aside.nav.components.COMPONENTS">Components</span>
                        </li>

                        <li ui-sref-active="active">
                            <a href="#/active">
                                <i class="glyphicon glyphicon-signal"></i>
                                <span translate="aside.nav.components.CHART">Active</span>
                            </a>
                        </li>

                        <li ui-sref-active="active">
                            <a href="#/goals">
                                <i class="glyphicon glyphicon-file icon"></i>
                                <span translate="aside.nav.components.pages.SEARCH">Goals</span>
                            </a>
                        </li>
                        <li class="line dk hidden-folded"></li>

                        <li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
                            <span translate="aside.nav.your_stuff.YOUR_STUFF">Your Stuff</span>
                        </li>

                        <li>
                            <a ui-sref="app.page.profile">
                                <i class="icon-user icon text-success-lter"></i>
                                <b class="badge bg-success pull-right">30%</b>
                                <span ng-click="ToProfile()">Profile</span>
                            </a>
                        </li>
                        <li>
                            <a ui-sref="app.docs">
                                <i class="icon-question icon"></i>
                                <span translate="aside.nav.your_stuff.DOCUMENTS">Documents</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>


    <div class="app-content">
        <div ng-if="hasRole('ROLE_USER')" ui-butterbar></div>
        <a ng-if="hasRole('ROLE_USER')" href="" class="off-screen-toggle hide" data-toggle="class:off-screen" data-target=".app-aside" ></a>
        <div class="app-content-body fade-in-up">
            <div ng-view></div>
            <md-button ng-if="hasRole('ROLE_USER')" class="md-fab md-fab-bottom-right md-primary md-button md-hue-2 docs-scroll-fab scrolling" ng-transclude ng-click="toggleRight()" docs-scroll-class="scrolling" style="position:fixed;right:20px; bottom:30px;" aria-label="Friends">
                <md-icon md-svg-src="resources/img/ic_people_white_24px.svg"></md-icon>
            </md-button>
        </div>
    </div>


    <!------------------side right--------------------->


        <md-sidenav ng-if="hasRole('ROLE_USER')" class="md-sidenav-right md-whiteframe-4dp w-lg bg-light lter b-l bg-auto" md-component-id="right">
            <md-content layout-padding style = "padding: 0px; margin-top: 3.3em">
                <div class="panel panel-default" style="border: 0px; padding: 0px;margin-bottom: 0px">
                    <div class="panel-heading c-list">
                        <span class="title"><strong>Friends</strong></span>
                        <ul class="nav nav-pills pull-right">
                            <li data-toggle="modal" data-target="#groupModal"><a style="margin-right: -4px; padding: 8px 10px"><md-icon md-svg-src="resources/img/ic_group_add_black_24px.svg"></md-icon></a></li>
                            <li><a data-target="#cant-do-all-the-work-for-you" data-toggle="modal" title="Add Contact"><i class="glyphicon glyphicon-plus"></i></a></li>
                            <li ng-click = "changeTypeQuery()"><a title="Toggle Search"><i class="fa fa-ellipsis-v"></i></a></li>
                            <li><a><i class="glyphicon glyphicon-arrow-right" ng-click="close()"></i></a></li>
                        </ul>
                    </div>
                    <!--<div>hello {{friendReminders.length}}</div>-->
                     <div class="row" ng-show="showSearchQuery">
                         <div class="col-xs-12">
                             <div class="input-group c-search">
                                 <input ng-model="queryParams.value" type="text" class="form-control" id="contact-list-search">
                                 <span class="input-group-btn">
                                     <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search text-muted"></span></button>
                                 </span>
                             </div>
                         </div>
                     </div>
                     <div class="panel-body" style="height: 560px; overflow: auto; padding: 8px 0px 0px 0px;">
                         <ul class="list-group" id="contact-list">
                             <li ng-show = "view.friendsTable" class="list-group-item" style="border: 0px" ng-repeat = "friend in friends | filter : search ">
                                 <a class="pull-left thumb-sm avatar m-r">
                                     <img ng-src="{{ friend.friend.id | imageUrl }}" onerror="this.src = 'resources/img/ic_default.png'" alt="IMG" class="img-responsive img-circle" style="max-height: 40px"/>
                                 </a>
                                 <div class="clear" ng-click = "contact(friend, 'friend')">
                                     <div>
                                         <a>{{friend.friend.username}}</a>
                                     </div>
                                     <small class="text-muted">{{friend.friend.firstname}}, {{friend.friend.lastname}}</small>
                                     <span ng-init="initialNewMessageFromFriend(friend.friend)" class="badge pull-right" ng-show = "newReceiverMessages[friend.friend.username] && newReceiverMessages[friend.friend.username].num > 0" style="margin-top: -8px; background-color: red">{{newReceiverMessages[friend.friend.username].num}}</span>
                                 </div>
                             </li>

                             <li ng-show = "view.friendGroupsTable" class="list-group-item" style="border: 0px" ng-repeat = "friendGroup in friendGroups">
                                 <div class="clear" ng-click = "contact(friendGroup, 'group')" style="display:-webkit-box">
                                     <div style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width: 85%; font-size: large">{{friendGroup.name}}</div>
                                     <div style="font-size: large">({{friendGroup.groupIds.length}})</div>
                                 </div>
                                 <div class="row" ng-show = "newReceiverMessages[friendGroup.id] && newReceiverMessages[friendGroup.id].num > 0">
                                     <small class="text-muted col-sm-8" style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden;">{{newReceiverMessages[friendGroup.id].lastContent}}</small>
                                     <span ng-init = "initialNewMessageFromGroup(friendGroup.id)" class="badge pull-right" style="margin-right: 10%; background-color:red">{{newReceiverMessages[friendGroup.id].num}}</span>
                                 </div>
                             </li>
                         </ul>
                     </div>
                    <div class="btn-group btn-group-justified" role="group" aria-label="...">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" ng-click = "changeViewToFriends(true)" ><md-icon md-svg-src="resources/img/ic_person_black_24px.svg"></md-icon></button>
                        </div>
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" ng-click = "changeViewToFriends(false)"><md-icon md-svg-src="resources/img/ic_people_black_24px.svg"></md-icon></button>
                        </div>
                    </div>
                </div>
            </md-content>
        </md-sidenav>

    <div id="cant-do-all-the-work-for-you" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document" style="max-width: 40%">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click = "closeQueryPart()"><span aria-hidden="true">&times;</span></button>
                    <div class="input-group" style="max-width: 40%">
                        <input ng-model = "condition" type="text" class="form-control" placeholder="enter query params...">
                        <span class="input-group-btn"><button class="btn btn-default" type="button" ng-click = "queryUser()"><span class="glyphicon glyphicon-search text-muted"></span></button>
                        </span>
                    </div>
                </div>
                <div class="modal-body" style="max-height: 300px; overflow: auto">
                    <div ng-show = "conditionPrompt">
                        <p class="bg-warning well well-sm">
                            please enter query to find your best friend with username, user's firstName | lastName, email!
                        </p>
                    </div>
                    <div>
                        <ul class="list-group no-bg no-borders pull-in" style="margin-bottom: 0px">
                            <li class="list-group-item" ng-repeat = "(index, item) in userItems">
                                <a class="pull-left thumb-sm avatar m-r">
                                    <img ng-src="{{ item.id | imageUrl }}" onerror="this.src = 'resources/img/ic_default.png'" alt="..." class="img-circle">
                                </a>
                                <div class="clear">
                                    <div><a>{{item.username}}</a></div>
                                    <small class="text-muted">{{item.firstname}}, {{item.lastname}}</small>
                                    <button ng-disabled ="item.disabled" type="button" class="btn btn-default btn-sm pull-right" style="margin-top: -15px" ng-click="createNewRequest(item)"> add </button>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="myFriendModal" tabindex="-1" role="dialog" aria-labelledby="friendReminderLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 ng-show = "requestPart" class="modal-title" id="myModalLabel">New Friend Requests</h4>
                </div>
                <div class="modal-body" style="max-height: 300px; overflow: auto">
                    <div ng-show = "friendRequestReminderInfo">
                        <p class="bg-warning well well-sm">
                            There are no new friends requests!
                        </p>
                    </div>
                    <div ng-show = "requestPart">
                        <ul class="list-group no-bg no-borders pull-in" style="margin-bottom: 0px">
                            <li class="list-group-item" ng-repeat = "(index, reminder) in friendReminders">
                                <a class="pull-left thumb-sm avatar m-r">
                                    <img ng-src="{{ reminder.fromCustomerUser.id | imageUrl }}" onerror="this.src = 'resources/img/ic_default.png'" alt="..." class="img-circle">
                                </a>
                                <div class="clear">
                                    <div><a>{{reminder.fromCustomerUser.username}}</a></div>
                                    <small class="text-muted">{{reminder.fromCustomerUser.firstname}}, {{reminder.fromCustomerUser.lastname}}</small>
                                    <button ng-disabled ="reminder.disabled" type="button" class="btn btn-default btn-sm pull-right" style="margin-top: -15px" ng-click="ignoreNewFriend(reminder)"> ignore </button>
                                    <button ng-disabled ="reminder.disabled" type="button" class="btn btn-primary btn-sm pull-right" style="margin-top: -15px; margin-right: 4px" ng-click="acceptNewFriend(reminder)"> accept </button>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="groupModal" tabindex="-1" role="dialog" aria-labelledby="myGroupModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Create New Group</h4>
                </div>
                <div class="modal-body row" style="padding-bottom: 0px">
                    <div class="input-group">
                        <span class="input-group-addon">Create A Group Name</span>
                        <input type="text" class="form-control" ng-model = "group.name" aria-describedby="basic-addon3">
                    </div>
                    <div class="col-md-6">
                        <ul class="list-group" style="height: 428px; overflow-y: auto; margin-bottom: 0px">
                            <li class="list-group-item" style="border: 0px" ng-repeat = "friend in friends | filter : search ">
                                <div style="display: inline-flex">
                                    <input class="pull-left" type="checkbox" ng-model = "friend.selected" ng-change = "changeStatus(friend)" style="font-size: -webkit-xxx-large; margin-top: 8px">
                                    <a class="thumb-sm avatar m-r">
                                        <img ng-src="{{ friend.friend.id | imageUrl }}" onerror="this.src = 'resources/img/ic_default.png'" alt="IMG" class="img-responsive img-circle" style="max-height: 40px"/>
                                    </a>
                                    <div class="clear" ng-click = "contact(friend)">
                                        <div><a>{{friend.friend.username}}</a></div>
                                        <small class="text-muted">{{friend.friend.firstname}}, {{friend.friend.lastname}}</small>
                                    </div>
                                </div>

                            </li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <div class="panel panel-success" style="margin-bottom: 0px">
                            <div class="panel-heading">Selected</div>
                            <div class="panel-body" style="height: 378px; overflow-y: auto">
                                <ul class="list-group" >
                                    <li class="list-group-item" style="border: 0px" ng-repeat = "selected in selection">
                                        <a class="pull-left thumb-sm avatar m-r">
                                            <img ng-src="{{ selected.friend.id | imageUrl }}" onerror="this.src = 'resources/img/ic_default.png'" alt="IMG" class="img-responsive img-circle" style="max-height: 40px"/>
                                        </a>
                                        <div class="clear">
                                            <div><a>{{selected.friend.username}}</a></div>
                                            <small class="text-muted">{{selected.friend.firstname}}, {{selected.friend.lastname}}</small>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click = "createOneGroup()">Save</button>
                </div>
            </div>
        </div>
    </div>
    <!--<div ng-style="setBackground()">-->
    <!--<div class="container">-->
        <!--<div ng-view></div>-->
    <!--</div>-->
    <!--</div>-->
</div>
<script type="text/javascript">
    +function ($) {
        $(function(){
            // class
            $(document).on('click', '[data-toggle^="class"]', function(e){
                e && e.preventDefault();
                console.log('abc');
                var $this = $(e.target), $class , $target, $tmp, $classes, $targets;
                !$this.data('toggle') && ($this = $this.closest('[data-toggle^="class"]'));
                $class = $this.data()['toggle'];
                $target = $this.data('target') || $this.attr('href');
                $class && ($tmp = $class.split(':')[1]) && ($classes = $tmp.split(','));
                $target && ($targets = $target.split(','));
                $classes && $classes.length && $.each($targets, function( index, value ) {
                    if ( $classes[index].indexOf( '*' ) !== -1 ) {
                        var patt = new RegExp( '\\s' +
                                $classes[index].
                                replace( /\*/g, '[A-Za-z0-9-_]+' ).
                                split( ' ' ).
                                join( '\\s|\\s' ) +
                                '\\s', 'g' );
                        $($this).each( function ( i, it ) {
                            var cn = ' ' + it.className + ' ';
                            while ( patt.test( cn ) ) {
                                cn = cn.replace( patt, ' ' );
                            }
                            it.className = $.trim( cn );
                        });
                    }
                    ($targets[index] !='#') && $($targets[index]).toggleClass($classes[index]) || $this.toggleClass($classes[index]);
                });
                $this.toggleClass('active');
            });

            // collapse nav
            $(document).on('click', 'nav a', function (e) {
                var $this = $(e.target), $active;
                $this.is('a') || ($this = $this.closest('a'));

                $active = $this.parent().siblings( ".active" );
                $active && $active.toggleClass('active').find('> ul:visible').slideUp(200);

                ($this.parent().hasClass('active') && $this.next().slideUp(200)) || $this.next().slideDown(200);
                $this.parent().toggleClass('active');

                $this.next().is('ul') && e.preventDefault();

                setTimeout(function(){ $(document).trigger('updateNav'); }, 300);
            });
        });
    }(jQuery);
</script>

</body>
</html>